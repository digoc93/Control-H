var autoIncrement = require('mongoose-auto-increment');
var mongoose = require('mongoose'),
    Schema = mongoose.Schema,
    ObjectId = Schema.ObjectId;

var connection = mongoose.createConnection("mongodb://localhost/ControlH3");
    autoIncrement.initialize(connection);

var backlogSchema = new Schema({
    _id : {type : Number, required: true, index: {unique: true}},
    projectId : {type : Number, required: true, index: {unique: false}},
    type : {type: String, required:true, enum: ['product', 'release', 'sprint']},
    closed : {type: Boolean, required: true}
});

backlogSchema.plugin(autoIncrement.plugin, 'backlog');
module.exports = mongoose.model('backlog', backlogSchema);