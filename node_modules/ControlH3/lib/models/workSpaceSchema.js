var autoIncrement = require('mongoose-auto-increment');
var mongoose = require('mongoose'),
	Schema = mongoose.Schema,
	ObjectId = Schema.ObjectId;

var connection = mongoose.createConnection("mongodb://localhost/ControlH3");
	autoIncrement.initialize(connection);

var workSpaceSchema = new Schema({
	_id : {type : Number, required: true,  index: {unique : true}},
	idUser : {type : Number, required: true, index: { unique : false}},
	type : {type : String, required: true, enum: ['house', 'office']},
	year : {type : Number, required: true, index: {unique : false}},
	month : {type : Number, required: true, index: {unique : false}},
	input : {type : Date, required: true},
	output : {type : Date},
	labored : [{type: Schema.Types.Mixed}],
	finalised : {type : Boolean}
});

workSpaceSchema.plugin(autoIncrement.plugin, 'horario');

module.exports = mongoose.model('horario', workSpaceSchema);
